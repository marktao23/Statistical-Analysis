---
title: "Homework 8"
author: ""
output:
  pdf_document: default
---

```{r}
library(knitr)
opts_chunk$set(tidy.opts = list(width.cutoff = 60), tidy = TRUE)
knitr::opts_chunk$set(error = TRUE)
```

# Analysis of the 1932 German Election during the Weimar Republic

Who voted for the Nazis?  Researchers attempted to answer this question by analyzing aggregate election data from the 1932 German election during the Weimar Republic.

This exercise is based on the following article: King, Gary, Ori Rosen, Martin Tanner, Alexander F. Wagner. 2008.  "[Ordinary Economic Voting Behavior in the Extraordinary Election of Adolf Hitler.](http://dx.doi.org/10.1017/S0022050708000788)" *Journal of Economic History* 68(4): 951-996.  

We analyze a simplified version of the election outcome data, which records, for each precinct, the number of eligible voters as well as the number of votes for the Nazi party.  In addition, the data set contains the aggregate occupation statistics for each precinct. 

```{r}
nazi <- read.csv("/data/qss/UNCERTAINTY/nazis.csv")
```

| Name            | Description                                          |
|-----------------|------------------------------------------------------|
| shareself       | Proportion of self-employed potential voters         |
| shareblue       | Proportion of blue-collar potential voters           |
| sharewhite      | Proportion of white-collar potential voters          |
| sharedomestic   | Proportion of domestically employed potential voters |
| shareunemployed | Proportion of unemployed potential voters            |
| nvoter          | Number of eligible voters                            |
| nazivote        | Number of votes for Nazis                            |

The goal of analysis is to investigate which types of voters (based on
their occupation category) cast ballots for the Nazis.  One hypothesis
says that the Nazis received much support from blue-collar workers.
Since the data do not directly tell us how many blue-collar workers
voted for the Nazis, we must infer this information using a
statistical analysis with certain assumptions.  Such an analysis where
researchers try to infer individual behaviors from aggregate data is
called ecological inference.

## Question 1

1.1. We exploit the linear relationship between the Nazis' vote share and the proportion of blue-collar voters by regressing the former on the latter.  That is, fit the following linear regression model:
  
  $$
    E(nazishare_i | shareblue_i) = \alpha + \beta shareblue_i
  $$

Note: vote share is the number voters for a given candidate or party divided by the total number of voters.

```{r}

```

1.2. Compute the estimated slope coefficient, its standard error, and the 95% confidence interval.  

```{r}

```

1.3. Give a substantive interpretation of each quantity.

## Question 2

2.1. Based on the fitted regression model from the previous question, predict the average Nazi vote share $Y_i$ given various proportions of blue-collar voters $X_i$.  Specifically, predict the value of $Y_i$ for each value of $X_i$ from 0 to 1 by 0.01.   

```{r}
blue.range <- ...
blue.pred <- predict(..., 
					 interval = "confidence", 
                     newdata = data.frame(shareblue = blue.range))
```

2.2. Plot the predicted value of Nazi votes against various values of blue-collar share within its observed range (the horizontal axis) as a solid line.  Add 95\% confidence intervals as dashed lines.  

```{r}

```

2.3. Give a substantive interpretation of the plot.
  
## Question 3

3.1. Fit a linear regression model where the overall Nazi vote share (`nazishare`) is regressed on the the occupation variables.  The model should contain no intercept and five predictors (`shareself`,`shareblue`, `sharewhite`, `sharedomestic`, and `shareunemployed`), each representing the proportion of potential voters in a certain occupation type. Present the estimated coefficients, the standard errors, and the 95% confidence intervals for each of the predictors.

```{r}

```

3.2. Interpret the estimate of each coefficient and its 95% confidence interval. What is the model's estimate of Nazi vote share when 100% of a precinct is self-employed? What is the estimate when 100% of a precinct is unemployed? Explain these result.  

## Question 4

4.1. Finally, we consider a model-free approach to ecological inference.  That is, we ask how much we can learn from the data alone without making an additional modeling assumption. For each precinct, obtain the minimum number of blue-collar Nazi voters that is logically possible given a scenario in which all non-blue-collar voters in precincts vote for the Nazis. Then sum this minimum number over all precincts and present the result.  This is the minimum number of blue-collar Nazi votes in the election. 
  
```{r}

```

4.2. Similarly, what is the largest possible value for blue-collar Nazi voters?  Calculate these bounds, keeping in mind that the value for blue-collar Nazi voters cannot be negative or greater than 1.

```{r}

```

4.3. Present these numbers as a proportion of blue-collar voters. Give a brief substantive interpretation of the results.  Does this method of finding the min and max Nazi vote share provide much additional information about the Nazi support among blue-collar workers?
  
## Question 5

5.1. What would happen if all non-blue-collar citizens opposed the Nazi's?  Would it have been possible for the Nazis to have won the election? Use the actual threshold in the election: 37.7% Nazi voteshare.  Assume everyone voted.


```{r}

```

5.2. How concentrated were Nazi voters?  Identify the precincts with a population of Nazi voters in the top decile.  If these votes are removed would the Nazis have still won the election?

```{r}

```

5.3. What do these results suggest about the magnitude of the Nazi victory? 
